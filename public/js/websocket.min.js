function t(t){this.wrapped=t}function e(e){var n,r;function o(n,r){try{var u=e[n](r),c=u.value,a=c instanceof t;Promise.resolve(a?c.wrapped:c).then((function(t){a?o("return"===n?"return":"next",t):i(u.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise((function(i,u){var c={key:t,arg:e,resolve:i,reject:u,next:null};r?r=r.next=c:(n=r=c,o(t,e))}))},"function"!=typeof e.return&&(this.return=void 0)}e.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)};function n(t,e){return i(t,o(t,e,"get"))}function r(t,e,n){return u(t,o(t,e,"set"),n),n}function o(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function i(t,e){return e.get?e.get.call(t):e.value}function u(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function c(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(t,e,n){a(t,e),e.set(t,n)}function f(t,e){a(t,e),e.add(t)}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function p(t,e){return t(e={exports:{}},e.exports),e.exports}var h,y,v=function(t){return t&&t.Math==Math&&t},b=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof l&&l)||function(){return this}()||Function("return this")(),d={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},g=function(t){return"function"==typeof t},m=function(t){return"object"==typeof t?null!==t:g(t)},w=b.document,O=m(w)&&m(w.createElement),S=function(t){return O?w.createElement(t):{}},j=S("span").classList,P=j&&j.constructor&&j.constructor.prototype,k=P===Object.prototype?void 0:P,T=function(t){try{return!!t()}catch(t){return!0}},E=!T((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),L=Function.prototype,_=L.bind,C=L.call,A=E&&_.bind(C,C),I=E?function(t){return t&&A(t)}:function(t){return t&&function(){return C.apply(t,arguments)}},x=I({}.toString),M=I("".slice),R=b.Object,F=I("".split),G=T((function(){return!R("z").propertyIsEnumerable(0)}))?function(t){return"String"==function(t){return M(x(t),8,-1)}(t)?F(t,""):R(t)}:R,D=b.TypeError,W=function(t){if(null==t)throw D("Can't call method on "+t);return t},N=function(t){return G(W(t))},z=Object.defineProperty,V=function(t,e){try{z(b,t,{value:e,configurable:!0,writable:!0})}catch(n){b[t]=e}return e},B=b["__core-js_shared__"]||V("__core-js_shared__",{}),U=p((function(t){(t.exports=function(t,e){return B[t]||(B[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.7",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.7/LICENSE",source:"https://github.com/zloirock/core-js"})})),H=b.Object,q=function(t){return H(W(t))},Y=I({}.hasOwnProperty),X=Object.hasOwn||function(t,e){return Y(q(t),e)},J=0,K=Math.random(),$=I(1..toString),Q=function(t){return"Symbol("+(void 0===t?"":t)+")_"+$(++J+K,36)},Z=function(t){return g(t)?t:void 0},tt=function(t,e){return arguments.length<2?Z(b[t]):b[t]&&b[t][e]},et=tt("navigator","userAgent")||"",nt=b.process,rt=b.Deno,ot=nt&&nt.versions||rt&&rt.version,it=ot&&ot.v8;it&&(y=(h=it.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!y&&et&&(!(h=et.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=et.match(/Chrome\/(\d+)/))&&(y=+h[1]);var ut,ct=y,at=!!Object.getOwnPropertySymbols&&!T((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ct&&ct<41})),st=at&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ft=U("wks"),lt=b.Symbol,pt=lt&&lt.for,ht=st?lt:lt&&lt.withoutSetter||Q,yt=function(t){if(!X(ft,t)||!at&&"string"!=typeof ft[t]){var e="Symbol."+t;at&&X(lt,t)?ft[t]=lt[t]:ft[t]=st&&pt?pt(e):ht(e)}return ft[t]},vt=b.String,bt=b.TypeError,dt=function(t){if(m(t))return t;throw bt(vt(t)+" is not an object")},gt=!T((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),mt=gt&&T((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),wt=!gt&&!T((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),Ot=Function.prototype.call,St=E?Ot.bind(Ot):function(){return Ot.apply(Ot,arguments)},jt=I({}.isPrototypeOf),Pt=b.Object,kt=st?function(t){return"symbol"==typeof t}:function(t){var e=tt("Symbol");return g(e)&&jt(e.prototype,Pt(t))},Tt=b.String,Et=b.TypeError,Lt=function(t){if(g(t))return t;throw Et(function(t){try{return Tt(t)}catch(t){return"Object"}}(t)+" is not a function")},_t=b.TypeError,Ct=b.TypeError,At=yt("toPrimitive"),It=function(t,e){if(!m(t)||kt(t))return t;var n,r,o=null==(n=t[At])?void 0:Lt(n);if(o){if(void 0===e&&(e="default"),r=St(o,t,e),!m(r)||kt(r))return r;throw Ct("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&g(n=t.toString)&&!m(r=St(n,t)))return r;if(g(n=t.valueOf)&&!m(r=St(n,t)))return r;if("string"!==e&&g(n=t.toString)&&!m(r=St(n,t)))return r;throw _t("Can't convert object to primitive value")}(t,e)},xt=function(t){var e=It(t,"string");return kt(e)?e:e+""},Mt=b.TypeError,Rt=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,Gt={f:gt?mt?function(t,e,n){if(dt(t),e=xt(e),dt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=Ft(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return Rt(t,e,n)}:Rt:function(t,e,n){if(dt(t),e=xt(e),dt(n),wt)try{return Rt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Mt("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Dt=Math.ceil,Wt=Math.floor,Nt=Math.trunc||function(t){var e=+t;return(e>0?Wt:Dt)(e)},zt=function(t){var e=+t;return e!=e||0===e?0:Nt(e)},Vt=Math.max,Bt=Math.min,Ut=Math.min,Ht=function(t){return(e=t.length)>0?Ut(zt(e),9007199254740991):0;var e},qt=function(t){return function(e,n,r){var o,i=N(e),u=Ht(i),c=function(t,e){var n=zt(t);return n<0?Vt(n+e,0):Bt(n,e)}(r,u);if(t&&n!=n){for(;u>c;)if((o=i[c++])!=o)return!0}else for(;u>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},Yt={includes:qt(!0),indexOf:qt(!1)},Xt={},Jt=Yt.indexOf,Kt=I([].push),$t=function(t,e){var n,r=N(t),o=0,i=[];for(n in r)!X(Xt,n)&&X(r,n)&&Kt(i,n);for(;e.length>o;)X(r,n=e[o++])&&(~Jt(i,n)||Kt(i,n));return i},Qt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Zt=Object.keys||function(t){return $t(t,Qt)},te=gt&&!mt?Object.defineProperties:function(t,e){dt(t);for(var n,r=N(e),o=Zt(e),i=o.length,u=0;i>u;)Gt.f(t,n=o[u++],r[n]);return t},ee={f:te},ne=tt("document","documentElement"),re=U("keys"),oe=function(t){return re[t]||(re[t]=Q(t))},ie=oe("IE_PROTO"),ue=function(){},ce=function(t){return"<script>"+t+"<\/script>"},ae=function(t){t.write(ce("")),t.close();var e=t.parentWindow.Object;return t=null,e},se=function(){try{ut=new ActiveXObject("htmlfile")}catch(t){}var t,e;se="undefined"!=typeof document?document.domain&&ut?ae(ut):((e=S("iframe")).style.display="none",ne.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ce("document.F=Object")),t.close(),t.F):ae(ut);for(var n=Qt.length;n--;)delete se.prototype[Qt[n]];return se()};Xt[ie]=!0;var fe=Object.create||function(t,e){var n;return null!==t?(ue.prototype=dt(t),n=new ue,ue.prototype=null,n[ie]=t):n=se(),void 0===e?n:ee.f(n,e)},le=Gt.f,pe=yt("unscopables"),he=Array.prototype;null==he[pe]&&le(he,pe,{configurable:!0,value:fe(null)});var ye=function(t){he[pe][t]=!0},ve={},be=I(Function.toString);g(B.inspectSource)||(B.inspectSource=function(t){return be(t)});var de,ge,me,we=B.inspectSource,Oe=b.WeakMap,Se=g(Oe)&&/native code/.test(we(Oe)),je=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Pe=gt?function(t,e,n){return Gt.f(t,e,je(1,n))}:function(t,e,n){return t[e]=n,t},ke=b.TypeError,Te=b.WeakMap;if(Se||B.state){var Ee=B.state||(B.state=new Te),Le=I(Ee.get),_e=I(Ee.has),Ce=I(Ee.set);de=function(t,e){if(_e(Ee,t))throw new ke("Object already initialized");return e.facade=t,Ce(Ee,t,e),e},ge=function(t){return Le(Ee,t)||{}},me=function(t){return _e(Ee,t)}}else{var Ae=oe("state");Xt[Ae]=!0,de=function(t,e){if(X(t,Ae))throw new ke("Object already initialized");return e.facade=t,Pe(t,Ae,e),e},ge=function(t){return X(t,Ae)?t[Ae]:{}},me=function(t){return X(t,Ae)}}var Ie,xe,Me,Re={set:de,get:ge,has:me,enforce:function(t){return me(t)?ge(t):de(t,{})},getterFor:function(t){return function(e){var n;if(!m(e)||(n=ge(e)).type!==t)throw ke("Incompatible receiver, "+t+" required");return n}}},Fe={}.propertyIsEnumerable,Ge=Object.getOwnPropertyDescriptor,De={f:Ge&&!Fe.call({1:2},1)?function(t){var e=Ge(this,t);return!!e&&e.enumerable}:Fe},We=Object.getOwnPropertyDescriptor,Ne={f:gt?We:function(t,e){if(t=N(t),e=xt(e),wt)try{return We(t,e)}catch(t){}if(X(t,e))return je(!St(De.f,t,e),t[e])}},ze=Function.prototype,Ve=gt&&Object.getOwnPropertyDescriptor,Be=X(ze,"name"),Ue={EXISTS:Be,PROPER:Be&&"something"===function(){}.name,CONFIGURABLE:Be&&(!gt||gt&&Ve(ze,"name").configurable)},He=p((function(t){var e=Ue.CONFIGURABLE,n=Re.enforce,r=Re.get,o=Object.defineProperty,i=gt&&!T((function(){return 8!==o((function(){}),"length",{value:8}).length})),u=String(String).split("String"),c=t.exports=function(t,r,c){"Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),c&&c.getter&&(r="get "+r),c&&c.setter&&(r="set "+r),(!X(t,"name")||e&&t.name!==r)&&o(t,"name",{value:r,configurable:!0}),i&&c&&X(c,"arity")&&t.length!==c.arity&&o(t,"length",{value:c.arity});try{c&&X(c,"constructor")&&c.constructor?gt&&o(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var a=n(t);return X(a,"source")||(a.source=u.join("string"==typeof r?r:"")),t};Function.prototype.toString=c((function(){return g(this)&&r(this).source||we(this)}),"toString")})),qe=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;return g(n)&&He(n,i,r),r.global?o?t[e]=n:V(e,n):(r.unsafe?t[e]&&(o=!0):delete t[e],o?t[e]=n:Pe(t,e,n)),t},Ye=Qt.concat("length","prototype"),Xe={f:Object.getOwnPropertyNames||function(t){return $t(t,Ye)}},Je={f:Object.getOwnPropertySymbols},Ke=I([].concat),$e=tt("Reflect","ownKeys")||function(t){var e=Xe.f(dt(t)),n=Je.f;return n?Ke(e,n(t)):e},Qe=function(t,e,n){for(var r=$e(e),o=Gt.f,i=Ne.f,u=0;u<r.length;u++){var c=r[u];X(t,c)||n&&X(n,c)||o(t,c,i(e,c))}},Ze=/#|\.prototype\./,tn=function(t,e){var n=nn[en(t)];return n==on||n!=rn&&(g(e)?T(e):!!e)},en=tn.normalize=function(t){return String(t).replace(Ze,".").toLowerCase()},nn=tn.data={},rn=tn.NATIVE="N",on=tn.POLYFILL="P",un=tn,cn=Ne.f,an=!T((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),sn=oe("IE_PROTO"),fn=b.Object,ln=fn.prototype,pn=an?fn.getPrototypeOf:function(t){var e=q(t);if(X(e,sn))return e[sn];var n=e.constructor;return g(n)&&e instanceof n?n.prototype:e instanceof fn?ln:null},hn=yt("iterator"),yn=!1;[].keys&&("next"in(Me=[].keys())?(xe=pn(pn(Me)))!==Object.prototype&&(Ie=xe):yn=!0),(null==Ie||T((function(){var t={};return Ie[hn].call(t)!==t})))&&(Ie={}),g(Ie[hn])||qe(Ie,hn,(function(){return this}));var vn={IteratorPrototype:Ie,BUGGY_SAFARI_ITERATORS:yn},bn=Gt.f,dn=yt("toStringTag"),gn=function(t,e,n){t&&!n&&(t=t.prototype),t&&!X(t,dn)&&bn(t,dn,{configurable:!0,value:e})},mn=vn.IteratorPrototype,wn=function(){return this},On=b.String,Sn=b.TypeError,jn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=I(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return dt(n),function(t){if("object"==typeof t||g(t))return t;throw Sn("Can't set "+On(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),Pn=Ue.PROPER,kn=Ue.CONFIGURABLE,Tn=vn.IteratorPrototype,En=vn.BUGGY_SAFARI_ITERATORS,Ln=yt("iterator"),_n=function(){return this},Cn=Gt.f,An=Re.set,In=Re.getterFor("Array Iterator"),xn=function(t,e,n,r,o,i,u){!function(t,e,n,r){var o=e+" Iterator";t.prototype=fe(mn,{next:je(+!r,n)}),gn(t,o,!1),ve[o]=wn}(n,e,r);var c,a,s,f=function(t){if(t===o&&v)return v;if(!En&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,h=t.prototype,y=h[Ln]||h["@@iterator"]||o&&h[o],v=!En&&y||f(o),d="Array"==e&&h.entries||y;if(d&&(c=pn(d.call(new t)))!==Object.prototype&&c.next&&(pn(c)!==Tn&&(jn?jn(c,Tn):g(c[Ln])||qe(c,Ln,_n)),gn(c,l,!0)),Pn&&"values"==o&&y&&"values"!==y.name&&(kn?Pe(h,"name","values"):(p=!0,v=function(){return St(y,this)})),o)if(a={values:f("values"),keys:i?v:f("keys"),entries:f("entries")},u)for(s in a)(En||p||!(s in h))&&qe(h,s,a[s]);else!function(t,e){var n,r,o,i,u,c=t.target,a=t.global,s=t.stat;if(n=a?b:s?b[c]||V(c,{}):(b[c]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(u=cn(n,r))&&u.value:n[r],!un(a?r:c+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Qe(i,o)}(t.sham||o&&o.sham)&&Pe(i,"sham",!0),qe(n,r,i,t)}}({target:e,proto:!0,forced:En||p},a);return h[Ln]!==v&&qe(h,Ln,v,{name:o}),ve[e]=v,a}(Array,"Array",(function(t,e){An(this,{type:"Array Iterator",target:N(t),index:0,kind:e})}),(function(){var t=In(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),Mn=ve.Arguments=ve.Array;if(ye("keys"),ye("values"),ye("entries"),gt&&"values"!==Mn.name)try{Cn(Mn,"name",{value:"values"})}catch(t){}var Rn=yt("iterator"),Fn=yt("toStringTag"),Gn=xn.values,Dn=function(t,e){if(t){if(t[Rn]!==Gn)try{Pe(t,Rn,Gn)}catch(e){t[Rn]=Gn}if(t[Fn]||Pe(t,Fn,e),d[e])for(var n in xn)if(t[n]!==xn[n])try{Pe(t,n,xn[n])}catch(e){t[n]=xn[n]}}};for(var Wn in d)Dn(b[Wn]&&b[Wn].prototype,Wn);Dn(k,"DOMTokenList");var Nn=new WeakMap,zn=new WeakMap,Vn=new WeakMap,Bn=new WeakSet,Un=new WeakSet;class Hn{constructor(t,e,n){f(this,Un),f(this,Bn),s(this,Nn,{writable:!0,value:void 0}),s(this,zn,{writable:!0,value:{}}),s(this,Vn,{writable:!0,value:null}),r(this,Nn,t),c(this,Bn,qn).call(this,e,n)}static connect(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===global.ab)throw new Error("GosSocket requires AutobahnJS to be loaded.");return new Hn(global.ab,t,e)}get autobahn(){return n(this,Nn)}get session(){return n(this,Vn)}isConnected(){return null!==n(this,Vn)}off(t,e){if(!(n(this,zn)[t]instanceof Array))return;let r,o=n(this,zn)[t],i=o.length;for(r=0;r<i;r++)if(o[r]===e){o.splice(r,1);break}}on(t,e){void 0===n(this,zn)[t]&&(n(this,zn)[t]=[]),n(this,zn)[t].push(e)}publishToTopic(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isConnected())throw new Error("Websocket session is not active, cannot publish to URI");n(this,Vn).publish(t,e)}rpcCall(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isConnected())throw new Error("Websocket session is not active, cannot perform RPC call");return n(this,Vn).call(t,e)}subscribeToChannel(t,e){if(!this.isConnected())throw new Error("Websocket session is not active, cannot subscribe to channel");try{n(this,Vn).subscribe(t,e)}catch(t){if(-1===t.message.indexOf(" already subscribed for topic "))throw t}}unsubscribeFromChannel(t,e){if(!this.isConnected())throw new Error("Websocket session is not active, cannot unsubscribe from channel");try{n(this,Vn).unsubscribe(t,e)}catch(t){if(-1===t.message.indexOf("not subscribed to topic ")&&-1===t.message.indexOf(" subscribed on topic "))throw t}}}function qn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(this,Nn).connect(t,(t=>{r(this,Vn,t),c(this,Un,Yn).call(this,"socket/connect",t)}),((t,e,n)=>{r(this,Vn,null),c(this,Un,Yn).call(this,"socket/disconnect",{code:t,reason:e})}),e)}function Yn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(n(this,zn)[t]instanceof Array))return;let r,o=n(this,zn)[t],i=o.length;for(r=0;r<i;r++)o[r].call(this,e)}export{Hn as default};
